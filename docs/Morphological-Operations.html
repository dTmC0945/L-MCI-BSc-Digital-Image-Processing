<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Code for Digital Image Processing Morphological Operations</title>
<meta name="author" content="Daniel McGuiness" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" href="config/style.css">
<script type="text/javascript"  src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="config/test.js">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
// @license-end
</script>

<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "index.html");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
// @license-end
</script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> UP </a>
 |
 <a accesskey="H" href=""> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Code for Digital Image Processing Morphological Operations</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org5dee73e">Introduction</a>
<ul>
<li><a href="#org5f1bae6">Preamble</a></li>
<li><a href="#org2824fb3">Erosion</a>
<ul>
<li><a href="#orgc755189">Plotting Comparisons</a></li>
</ul>
</li>
<li><a href="#org4765dd6">Dilation</a></li>
<li><a href="#org51bc28e">Opening</a></li>
<li><a href="#org1546ef5">Closing</a></li>
<li><a href="#orgcebbc2f">Gradient</a></li>
<li><a href="#orgbb2c624">Tophat</a>
<ul>
<li><a href="#orge1fe8fd">White Top-hat</a></li>
<li><a href="#org26f1760">Blackhat</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
These are the code snippets used in <code>Morphological Operations</code>
part of <code>Digital Image Processing</code>.
</p>

<div id="outline-container-org5dee73e" class="outline-2">
<h2 id="org5dee73e">Introduction</h2>
<div class="outline-text-2" id="text-org5dee73e">
</div>
<div id="outline-container-org5f1bae6" class="outline-3">
<h3 id="org5f1bae6">Preamble</h3>
<div class="outline-text-3" id="text-org5f1bae6">
<p>
The following is a custom package written to handle plotting
and other functions required by the lecture.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgf951061"><span class="org-keyword">import</span> ChalcedonPy <span class="org-keyword">as</span> cp <span class="org-comment-delimiter"># </span><span class="org-comment">custom-pakcage for lecture materials and publications</span>
<span class="org-variable-name">SAVE_PATH</span> <span class="org-operator">=</span> <span class="org-string">"Morphological-Operations"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">sets the default save path</span>
<span class="org-variable-name">style</span><span class="org-operator">=</span><span class="org-string">"web"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">sets the default rcParams stylce sheet</span>
cp.plot_settings<span class="org-rainbow-delimiters-depth-1">(</span>size<span class="org-operator">=</span><span class="org-constant">None</span>, style<span class="org-operator">=</span>style<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter"># </span><span class="org-comment">set global style for matplotlib</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org9892f9a"><span class="org-keyword">import</span> cv2 <span class="org-keyword">as</span> cv
<span class="org-keyword">import</span> matplotlib.pyplot <span class="org-keyword">as</span> plt
<span class="org-keyword">import</span> matplotlib.colors  <span class="org-comment-delimiter"># </span><span class="org-comment">all related to colours</span>
<span class="org-keyword">from</span> matplotlib.image <span class="org-keyword">import</span> imread
<span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np
</pre>
</div>
</div>
</div>

<div id="outline-container-org2824fb3" class="outline-3">
<h3 id="org2824fb3">Erosion</h3>
<div class="outline-text-3" id="text-org2824fb3">
<p>
Erosion is used to remove pixels from the boundary
of the input image shrinking the object.
</p>

<p>
To make publishing and generating images easier a custom wrapper function
is defined with the following defition and parameters.
</p>

<p>
<code>DEFINITION:</code> Apply the erosion morphology process to an image
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border" width="100%">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">PARAMETER</th>
<th scope="col" class="org-left">FUNCTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">iterations</td>
<td class="org-left">number of times erosion is applied</td>
</tr>

<tr>
<td class="org-left">show</td>
<td class="org-left">Presents the comparative image to the user.</td>
</tr>

<tr>
<td class="org-left">publish</td>
<td class="org-left">Prints the image with the name being the entered value (300 dpi, .png)</td>
</tr>

<tr>
<td class="org-left">rgb</td>
<td class="org-left">Converts images from bgr to rgb.</td>
</tr>

<tr>
<td class="org-left">return</td>
<td class="org-left">Returns original image and the filtered image.</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python" id="orgd52014b"><span class="org-keyword">def</span> <span class="org-function-name">morph_erosion</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, iterations<span class="org-operator">=</span>1, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-variable-name">erosion</span> <span class="org-operator">=</span> cv.erode<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, kernel, iterations<span class="org-operator">=</span>iterations<span class="org-rainbow-delimiters-depth-1">)</span>

    cp.Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, erosion<span class="org-rainbow-delimiters-depth-2">]</span>,
                                    show<span class="org-operator">=</span>show,
                                    publish<span class="org-operator">=</span>publish,
                                    rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

    <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, erosion
</pre>
</div>
</div>

<div id="outline-container-orgc755189" class="outline-4">
<h4 id="orgc755189">Plotting Comparisons</h4>
<div class="outline-text-4" id="text-orgc755189">
<p>
The following are successive effects of increasing the kernel size.
The kernel size is made up from 1's using a <code>numpy</code> array.
</p>

<p>
The following comparison is between the original and the original
with erosion applied with a kernel size of 5.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org3353668"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">er</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,
                      kernel <span class="org-operator">=</span> kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-k-5"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org2ea2452" class="figure">
<p><img src="images/Morphological-Operations/Erosion-k-5.png" alt="Erosion-k-5.png" />
</p>
</div>

<p>
As can be seen there is a slight different between the two images as the one on the right seems to
have lost its shapness.
</p>

<p>
The following comparison is between the original and the original with erosion
applied with a kernel size of 9.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org26a5042"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">er</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,
                      kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-k-9"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org3311d77" class="figure">
<p><img src="images/Morphological-Operations/Erosion-k-9.png" alt="Erosion-k-9.png" />
</p>
</div>

<p>
The image on the right seems to be darker on the edges.
The following comparison is between the original and the original with erosion
applied with a kernel size of 13.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org40822c9"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">er</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-k-13"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org392d6a3" class="figure">
<p><img src="images/Morphological-Operations/Erosion-k-13.png" alt="Erosion-k-13.png" />
</p>
</div>

<p>
The darkness has increased with the ediges becoming ever more shifted.
</p>

<p>
The following comparison is between the original and the original with erosion
applied with a kernel size of 17.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org2e9a036"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">er</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-k-17"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgd9c2304" class="figure">
<p><img src="images/Morphological-Operations/Erosion-k-17.png" alt="Erosion-k-17.png" />
</p>
</div>

<p>
The following comparison is between the original and the original with erosion
applied with a kernel size of 21.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgfeaf58a"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">er</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-k-21"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgbd7c056" class="figure">
<p><img src="images/Morphological-Operations/Erosion-k-21.png" alt="Erosion-k-21.png" />
</p>
</div>

<p>
Compared to the original the image has completely lost its sharpness and it looks as if someone
slightly smeared it going up.
</p>

<p>
Here, lets compare erosion with increasing kernel sizes in one big
image, along with the original, for a better comparison.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orge03712b"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_erosion<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
    show<span class="org-operator">=</span><span class="org-constant">False</span>,
    publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/Erosion-comparison"</span>,
    rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="org875c6c8" class="figure">
<p><img src="images/Morphological-Operations/Erosion-comparison.png" alt="Erosion-comparison.png" />
</p>
</div>

<p>
In the above image, <span class="Hlight">(a)</span> is the original input (b) is eroded with kernel
size 5, (c) is 9, (d) is 13 (e) is 17, and (f) is 21.
</p>
</div>
</div>
</div>

<div id="outline-container-org4765dd6" class="outline-3">
<h3 id="org4765dd6">Dilation</h3>
<div class="outline-text-3" id="text-org4765dd6">
<p>
Dilation is one of the most common morphological operation
along with Erosion where it is used to add pixels to the
boundary of the input image making the object more visible
and fill small voids in the image.
</p>

<p>
Dilation operator takes two inputs, one is the image
and the other one is the structuring element (i.e., kernel).
</p>

<p>
The structuring element determines the effect of dilation
on the input image.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orga201af7"><span class="org-keyword">def</span> <span class="org-function-name">morph_dilation</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, iterations<span class="org-operator">=</span>1, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-variable-name">dilation</span> <span class="org-operator">=</span> cv.dilate<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, kernel, iterations<span class="org-operator">=</span>iterations<span class="org-rainbow-delimiters-depth-1">)</span>

    Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, dilation<span class="org-rainbow-delimiters-depth-2">]</span>,
                                 show<span class="org-operator">=</span>show,
                                 publish<span class="org-operator">=</span>publish,
                                 rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

    <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, dilation
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org62e6ed1"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-k-5"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgb98ba73" class="figure">
<p><img src="images/Morphological-Operations/dilation-k-5.png" alt="dilation-k-5.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org0e7a7ac"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-k-9"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgffe3490" class="figure">
<p><img src="images/Morphological-Operations/dilation-k-9.png" alt="dilation-k-9.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org3cca514"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-k-13"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org3e3d315" class="figure">
<p><img src="images/Morphological-Operations/dilation-k-13.png" alt="dilation-k-13.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org97b28e9"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-k-17"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org0c5a31a" class="figure">
<p><img src="images/Morphological-Operations/dilation-k-17.png" alt="dilation-k-17.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org3f2228c"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                      publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-k-21"</span>,
                      show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org2ea8df8" class="figure">
<p><img src="images/Morphological-Operations/dilation-k-21.png" alt="dilation-k-21.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org1289a3d"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_dilation<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
    show<span class="org-operator">=</span><span class="org-constant">False</span>,
    publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/dilation-comparison"</span>,
    rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="org0f5dd87" class="figure">
<p><img src="images/Morphological-Operations/dilation-comparison.png" alt="dilation-comparison.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org51bc28e" class="outline-3">
<h3 id="org51bc28e">Opening</h3>
<div class="outline-text-3" id="text-org51bc28e">
<div class="org-src-container">
<pre class="src src-python" id="org57d9e6a"><span class="org-keyword">def</span> <span class="org-function-name">morph_opening</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-variable-name">opening</span> <span class="org-operator">=</span> cv.morphologyEx<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, cv.MORPH_OPEN, kernel<span class="org-rainbow-delimiters-depth-1">)</span>

    Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, opening<span class="org-rainbow-delimiters-depth-2">]</span>,
                                 show<span class="org-operator">=</span><span class="org-constant">False</span>,
                                 publish<span class="org-operator">=</span>publish,
                                 rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

    <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, opening
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org152f3da"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-5"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org45ddd5c" class="figure">
<p><img src="images/Morphological-Operations/opening-k-5.png" alt="opening-k-5.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org7fe87ef"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-9"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org2a536f7" class="figure">
<p><img src="images/Morphological-Operations/opening-k-9.png" alt="opening-k-9.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org8bc8cb4"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-13"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org0a2a1cb" class="figure">
<p><img src="images/Morphological-Operations/opening-k-13.png" alt="opening-k-13.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orga232127"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-17"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgbf52eea" class="figure">
<p><img src="images/Morphological-Operations/opening-k-17.png" alt="opening-k-17.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org000a708"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-21"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgfed11a0" class="figure">
<p><img src="images/Morphological-Operations/opening-k-21.png" alt="opening-k-21.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgfacc25f"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_opening<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
                             show<span class="org-operator">=</span><span class="org-constant">False</span>,
                             publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-comparison"</span>,
                             rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="orgfa6fd2b" class="figure">
<p><img src="images/Morphological-Operations/closing-comparison.png" alt="closing-comparison.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org1546ef5" class="outline-3">
<h3 id="org1546ef5">Closing</h3>
<div class="outline-text-3" id="text-org1546ef5">
<p>
the closing of a set (binary image) A by a structuring element B is the erosion of the dilation of that set,
</p>

\begin{equation*}
 A\bullet B=(A\oplus B)\ominus B
\end{equation*}

<p>
where \(\oplus\) and $\ominus denote the dilation and erosion, respectively.
</p>

<p>
In image processing, closing is, together with opening, the basic workhorse of morphological
noise removal. Opening removes small objects, while closing removes small holes. 
</p>

<div class="org-src-container">
<pre class="src src-python" id="orga2ad0d6"><span class="org-keyword">def</span> <span class="org-function-name">morph_closing</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:
       <span class="org-variable-name">closing</span> <span class="org-operator">=</span> cv.morphologyEx<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, cv.MORPH_CLOSE, kernel<span class="org-rainbow-delimiters-depth-1">)</span>

       Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, closing<span class="org-rainbow-delimiters-depth-2">]</span>,
                                    show<span class="org-operator">=</span>show,
                                    publish<span class="org-operator">=</span>publish,
                                    rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

       <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, closing
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgdba8901"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-5"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgcab44ab" class="figure">
<p><img src="images/Morphological-Operations/opening-k-5.png" alt="opening-k-5.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org9135db5"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-9"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org3bc9e9c" class="figure">
<p><img src="images/Morphological-Operations/opening-k-9.png" alt="opening-k-9.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org509410a"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-13"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orged8ed65" class="figure">
<p><img src="images/Morphological-Operations/opening-k-13.png" alt="opening-k-13.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org81212ea"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-17"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org252af47" class="figure">
<p><img src="images/Morphological-Operations/opening-k-17.png" alt="opening-k-17.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org98b15a3"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/opening-k-21"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org0160192"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_closing<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
                             show<span class="org-operator">=</span><span class="org-constant">False</span>,
                             publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/closing-comparison"</span>,
                             rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="orgbc8272d" class="figure">
<p><img src="images/Morphological-Operations/closing-comparison.png" alt="closing-comparison.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgcebbc2f" class="outline-3">
<h3 id="orgcebbc2f">Gradient</h3>
<div class="outline-text-3" id="text-orgcebbc2f">
<p>
It is the difference between the dilation and the erosion of a given image.
It is an image where each pixel value (typically non-negative) indicates the
contrast intensity in the close neighborhood of that pixel. It is useful
for edge detection and segmentation applications. 
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgaf6f0a1"><span class="org-keyword">def</span> <span class="org-function-name">morph_gradient</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:

    <span class="org-variable-name">gradient</span> <span class="org-operator">=</span> cv.morphologyEx<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, cv.MORPH_GRADIENT, kernel<span class="org-rainbow-delimiters-depth-1">)</span>

    Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, gradient<span class="org-rainbow-delimiters-depth-2">]</span>,
                                 show<span class="org-operator">=</span>show,
                                 publish<span class="org-operator">=</span>publish,
                                 rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

    <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, gradient
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgb01d9ed"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-k-5"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgfdcc53d" class="figure">
<p><img src="images/Morphological-Operations/gradient-k-5.png" alt="gradient-k-5.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org40fcbf5"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-k-9"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org3dda6c4" class="figure">
<p><img src="images/Morphological-Operations/gradient-k-9.png" alt="gradient-k-9.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgbd0af94"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-k-13"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org544aeae" class="figure">
<p><img src="images/Morphological-Operations/gradient-k-13.png" alt="gradient-k-13.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org30efcf6"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-k-17"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgc770b0e" class="figure">
<p><img src="images/Morphological-Operations/gradient-k-17.png" alt="gradient-k-17.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org9c34e62"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-k-21"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org75fb8de" class="figure">
<p><img src="images/Morphological-Operations/gradient-k-21.png" alt="gradient-k-21.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgae72ab0"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_gradient<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
                             show<span class="org-operator">=</span><span class="org-constant">False</span>,
                             publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/gradient-comparison"</span>,
                             rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="org4b6a009" class="figure">
<p><img src="images/Morphological-Operations/gradient-comparison.png" alt="gradient-comparison.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgbb2c624" class="outline-3">
<h3 id="orgbb2c624">Tophat</h3>
<div class="outline-text-3" id="text-orgbb2c624">
<p>
Top-hat transform is an operation that extracts small elements and details from given images.
There exist two types of top-hat transform:
</p>

<ol class="org-ol">
<li>top-hat transform is defined as the difference between the input image and its opening by
some structuring element,</li>
<li>black top-hat transform is defined dually as the difference between the closing and the input image.</li>
</ol>

<p>
Top-hat transforms are used for various image processing tasks, such as feature extraction,
background equalization, image enhancement, and others. 
</p>
</div>

<div id="outline-container-orge1fe8fd" class="outline-4">
<h4 id="orge1fe8fd">White Top-hat</h4>
<div class="outline-text-4" id="text-orge1fe8fd">
<p>
Used to enhance bright objects of interest in a dark background. 
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgc59ed64"><span class="org-keyword">def</span> <span class="org-function-name">morph_tophat</span><span class="org-rainbow-delimiters-depth-1">(</span>image, kernel, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:

        <span class="org-variable-name">hat</span> <span class="org-operator">=</span> cv.morphologyEx<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, cv.MORPH_TOPHAT, kernel<span class="org-rainbow-delimiters-depth-1">)</span>

        Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, hat<span class="org-rainbow-delimiters-depth-2">]</span>,
                                     show<span class="org-operator">=</span>show,
                                     publish<span class="org-operator">=</span>publish,
                                     rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

        <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, hat
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org2cd5920"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>5<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-k-5"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org6e2f1c8" class="figure">
<p><img src="images/Morphological-Operations/tophat-k-5.png" alt="tophat-k-5.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgf0daa2f"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>9<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-k-9"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgc33ceaf" class="figure">
<p><img src="images/Morphological-Operations/tophat-k-9.png" alt="tophat-k-9.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org60cece3"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>13<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-k-13"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgc3fd4a3" class="figure">
<p><img src="images/Morphological-Operations/tophat-k-13.png" alt="tophat-k-13.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgfc0f5be"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>17<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-k-17"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="orgbb21024" class="figure">
<p><img src="images/Morphological-Operations/tophat-k-17.png" alt="tophat-k-17.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org6094765"><span class="org-variable-name">kernel</span> <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-1">(</span>21<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">di</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel,
                       publish <span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-k-21"</span>,
                       show<span class="org-operator">=</span><span class="org-constant">False</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<div id="org9d6a86e" class="figure">
<p><img src="images/Morphological-Operations/tophat-k-21.png" alt="tophat-k-21.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-python" id="orgfa4b546"><span class="org-variable-name">image</span> <span class="org-operator">=</span> <span class="org-string">"Fruit.jpg"</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_5</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>5<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_9</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>9<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_13</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>13<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_17</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image,kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>17<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-variable-name">o</span>, <span class="org-variable-name">me_21</span> <span class="org-operator">=</span> morph_tophat<span class="org-rainbow-delimiters-depth-1">(</span>image, kernel <span class="org-operator">=</span> np.ones<span class="org-rainbow-delimiters-depth-2">(</span>21<span class="org-rainbow-delimiters-depth-2">)</span>, rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-variable-name">image_array</span><span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-1">[</span>o, me_5, me_9, me_13, me_17, me_21<span class="org-rainbow-delimiters-depth-1">]</span>

Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>2, 3, image_array<span class="org-operator">=</span>image_array,
                             show<span class="org-operator">=</span><span class="org-constant">False</span>,
                             publish<span class="org-operator">=</span><span class="org-string">"images/Morphological-Operations/tophat-comparison"</span>,
                             rgb<span class="org-operator">=</span><span class="org-constant">True</span><span class="org-rainbow-delimiters-depth-1">)</span>

</pre>
</div>


<div id="org41319ee" class="figure">
<p><img src="images/Morphological-Operations/tophat-comparison.png" alt="tophat-comparison.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org26f1760" class="outline-4">
<h4 id="org26f1760">Blackhat</h4>
<div class="outline-text-4" id="text-org26f1760">
<p>
The black-hat operation is used to do the opposite,
enhance dark objects of interest in a bright background.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orge0b3836"><span class="org-keyword">def</span> <span class="org-function-name">morph_blackhat</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">self</span>, show<span class="org-operator">=</span><span class="org-constant">None</span>, publish<span class="org-operator">=</span><span class="org-constant">None</span>, rgb<span class="org-operator">=</span><span class="org-constant">None</span><span class="org-rainbow-delimiters-depth-1">)</span>:

       <span class="org-variable-name">black_hat</span> <span class="org-operator">=</span> cv.morphologyEx<span class="org-rainbow-delimiters-depth-1">(</span>cv.imread<span class="org-rainbow-delimiters-depth-2">(</span>image<span class="org-rainbow-delimiters-depth-2">)</span>, cv.MORPH_BLACKHAT, <span class="org-keyword">self</span>.kernel<span class="org-rainbow-delimiters-depth-1">)</span>

       <span class="org-keyword">if</span> show:
              Plotting.image_subplot_style<span class="org-rainbow-delimiters-depth-1">(</span>1, 2, image_array<span class="org-operator">=</span><span class="org-rainbow-delimiters-depth-2">[</span>cv.imread<span class="org-rainbow-delimiters-depth-3">(</span>image<span class="org-rainbow-delimiters-depth-3">)</span>, black_hat<span class="org-rainbow-delimiters-depth-2">]</span>,
                                           show<span class="org-operator">=</span>show,
                                           publish<span class="org-operator">=</span>publish,
                                           rgb<span class="org-operator">=</span>rgb<span class="org-rainbow-delimiters-depth-1">)</span>

       <span class="org-keyword">return</span> cv.imread<span class="org-rainbow-delimiters-depth-1">(</span>image<span class="org-rainbow-delimiters-depth-1">)</span>, black_hat
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Daniel McGuiness</p>
</div>
</body>
</html>
